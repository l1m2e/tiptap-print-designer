import{c as Q}from"./chunks/utils.CytzSlOG.js";import{d as H,p as g,ah as A,s as F,v as K,$ as W,c as $,o as U,n as tt,k as z,ag as O,j as et,G as at}from"./chunks/framework.CmYBTWAz.js";const nt=H({__name:"IconCloud",props:{class:{},images:{}},setup(D){const S=D,{images:d}=S,m=g(null),l=g(0),R=g([]),I=g([]),w=g([]),o=A({x:0,y:0}),P=g(!1),x=A({x:0,y:0}),X=A({x:0,y:0}),Y=g(null);function Z(t){return 1-(1-t)**3}F(()=>{if(!d)return;I.value=Array.from({length:d.length}).fill(!1);const t=d.map((e,c)=>{const n=document.createElement("canvas");n.width=40,n.height=40;const s=n.getContext("2d");if(!s)return n;const r=new Image;return r.crossOrigin="anonymous",r.src=e,r.onload=()=>{s.clearRect(0,0,n.width,n.height),s.drawImage(r,0,0,40,40),I.value[c]=!0},n});R.value=t}),F(()=>{const t=(d==null?void 0:d.length)||0;if(t===0){w.value=[];return}const e=[],c=2/t,n=Math.PI*(3-Math.sqrt(5));for(let s=0;s<t;s++){const r=s*c-1+c/2,a=Math.sqrt(1-r*r),v=s*n,C=Math.cos(v)*a,p=Math.sin(v)*a;e.push({x:C*100,y:r*100,z:p*100,scale:1,opacity:1,id:s})}w.value=e});function G(t){const e=m.value;if(!e)return;const c=e.getBoundingClientRect(),n=t.clientX-c.left,s=t.clientY-c.top;e.getContext("2d")&&(w.value.forEach(a=>{const v=Math.cos(o.x),C=Math.sin(o.x),p=Math.cos(o.y),i=Math.sin(o.y),h=a.x*p-a.z*i,_=a.x*i+a.z*p,b=a.y*v+_*C,M=e.width/2+h,y=e.height/2+b,u=20*((_+200)/300),f=n-M,q=s-y;if(f*f+q*q<u*u){const T=-Math.atan2(a.y,Math.sqrt(a.x*a.x+a.z*a.z)),E=Math.atan2(a.x,a.z),j=o.x,B=o.y,N=Math.sqrt((T-j)**2+(E-B)**2),L=Math.min(2e3,Math.max(800,N*1e3));Y.value={x:T,y:E,startX:j,startY:B,distance:N,startTime:performance.now(),duration:L}}}),P.value=!0,x.x=t.clientX,x.y=t.clientY)}function J(t){const e=m.value;if(!e)return;const c=e.getBoundingClientRect();if(X.x=t.clientX-c.left,X.y=t.clientY-c.top,P.value){const n=t.clientX-x.x,s=t.clientY-x.y;o.x+=s*.002,o.y+=n*.002,x.x=t.clientX,x.y=t.clientY}}function V(){P.value=!1}return K(()=>{const t=m.value;if(!t)return;const e=t.getContext("2d");if(!e)return;function c(){e.clearRect(0,0,t.width,t.height);const n=t.width/2,s=t.height/2,r=X.x-n,a=X.y-s,v=Math.sqrt(n*n+s*s),p=.003+Math.sqrt(r*r+a*a)/v*.01;if(Y.value){const{startX:i,startY:h,x:_,y:b,startTime:M,duration:y}=Y.value,k=performance.now()-M,u=Math.min(1,k/y),f=Z(u);o.x=i+(_-i)*f,o.y=h+(b-h)*f,u>=1&&(Y.value=null)}else P.value||(o.x+=a/t.height*p,o.y+=r/t.width*p);w.value.forEach((i,h)=>{const _=Math.cos(o.x),b=Math.sin(o.x),M=Math.cos(o.y),y=Math.sin(o.y),k=i.x*M-i.z*y,u=i.x*y+i.z*M,f=i.y*_+u*b,q=(u+200)/300,T=Math.max(.2,Math.min(1,(u+150)/200));e.save(),e.translate(n+k,s+f),e.scale(q,q),e.globalAlpha=T,R.value[h]&&I.value[h]&&e.drawImage(R.value[h],-20,-20,40,40),e.restore()}),l.value=requestAnimationFrame(c)}l.value=requestAnimationFrame(c)}),W(()=>{l.value&&cancelAnimationFrame(l.value)}),(t,e)=>(U(),$("canvas",{ref_key:"canvasRef",ref:m,width:"300",height:"300",class:tt(z(Q)("",t.$props.class)),role:"img","aria-label":"Interactive 3D Image Cloud",onMousedown:G,onMousemove:J,onMouseup:V,onMouseleave:V},null,34))}}),st={class:"grid place-content-center p-6"},it=JSON.parse('{"title":"简介","description":"","frontmatter":{},"headers":[],"relativePath":"guide/start.md","filePath":"guide/start.md"}'),ot={name:"guide/start.md"},lt=Object.assign(ot,{setup(D){const d=["typescript","tiptap","tailwindcss","vite","pnpm","nodedotjs","vuedotjs","eslint","shadcnui/green"].map(m=>`https://cdn.simpleicons.org/${m}`);return(m,l)=>(U(),$("div",null,[l[0]||(l[0]=O("",9)),et("div",st,[at(z(nt),{images:z(d)},null,8,["images"])]),l[1]||(l[1]=O("",7))]))}});export{it as __pageData,lt as default};
