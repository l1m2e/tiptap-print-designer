import{c as H}from"./chunks/utils.CytzSlOG.js";import{d as K,p as g,ah as A,s as O,v as Q,$ as tt,c as U,o as G,n as et,k as D,ag as at,j as x,G as nt,a as $}from"./chunks/framework.CP5N7zHf.js";const st=K({__name:"IconCloud",props:{class:{},images:{}},setup(E){const V=E,{images:u}=V,p=g(null),c=g(0),z=g([]),T=g([]),Y=g([]),o=A({x:0,y:0}),q=g(!1),v=A({x:0,y:0}),C=A({x:0,y:0}),k=g(null);function Z(t){return 1-(1-t)**3}O(()=>{if(!u)return;T.value=Array.from({length:u.length}).fill(!1);const t=u.map((e,r)=>{const n=document.createElement("canvas");n.width=40,n.height=40;const s=n.getContext("2d");if(!s)return n;const i=new Image;return i.crossOrigin="anonymous",i.src=e,i.onload=()=>{s.clearRect(0,0,n.width,n.height),s.drawImage(i,0,0,40,40),T.value[r]=!0},n});z.value=t}),O(()=>{const t=(u==null?void 0:u.length)||0;if(t===0){Y.value=[];return}const e=[],r=2/t,n=Math.PI*(3-Math.sqrt(5));for(let s=0;s<t;s++){const i=s*r-1+r/2,a=Math.sqrt(1-i*i),M=s*n,P=Math.cos(M)*a,m=Math.sin(M)*a;e.push({x:P*100,y:i*100,z:m*100,scale:1,opacity:1,id:s})}Y.value=e});function J(t){const e=p.value;if(!e)return;const r=e.getBoundingClientRect(),n=t.clientX-r.left,s=t.clientY-r.top;e.getContext("2d")&&(Y.value.forEach(a=>{const M=Math.cos(o.x),P=Math.sin(o.x),m=Math.cos(o.y),l=Math.sin(o.y),h=a.x*m-a.z*l,y=a.x*l+a.z*m,w=a.y*M+y*P,_=e.width/2+h,b=e.height/2+w,d=20*((y+200)/300),f=n-_,X=s-b;if(f*f+X*X<d*d){const I=-Math.atan2(a.y,Math.sqrt(a.x*a.x+a.z*a.z)),B=Math.atan2(a.x,a.z),N=o.x,S=o.y,F=Math.sqrt((I-N)**2+(B-S)**2),W=Math.min(2e3,Math.max(800,F*1e3));k.value={x:I,y:B,startX:N,startY:S,distance:F,startTime:performance.now(),duration:W}}}),q.value=!0,v.x=t.clientX,v.y=t.clientY)}function L(t){const e=p.value;if(!e)return;const r=e.getBoundingClientRect();if(C.x=t.clientX-r.left,C.y=t.clientY-r.top,q.value){const n=t.clientX-v.x,s=t.clientY-v.y;o.x+=s*.002,o.y+=n*.002,v.x=t.clientX,v.y=t.clientY}}function j(){q.value=!1}return Q(()=>{const t=p.value;if(!t)return;const e=t.getContext("2d");if(!e)return;function r(){e.clearRect(0,0,t.width,t.height);const n=t.width/2,s=t.height/2,i=C.x-n,a=C.y-s,M=Math.sqrt(n*n+s*s),m=.003+Math.sqrt(i*i+a*a)/M*.01;if(k.value){const{startX:l,startY:h,x:y,y:w,startTime:_,duration:b}=k.value,R=performance.now()-_,d=Math.min(1,R/b),f=Z(d);o.x=l+(y-l)*f,o.y=h+(w-h)*f,d>=1&&(k.value=null)}else q.value||(o.x+=a/t.height*m,o.y+=i/t.width*m);Y.value.forEach((l,h)=>{const y=Math.cos(o.x),w=Math.sin(o.x),_=Math.cos(o.y),b=Math.sin(o.y),R=l.x*_-l.z*b,d=l.x*b+l.z*_,f=l.y*y+d*w,X=(d+200)/300,I=Math.max(.2,Math.min(1,(d+150)/200));e.save(),e.translate(n+R,s+f),e.scale(X,X),e.globalAlpha=I,z.value[h]&&T.value[h]&&e.drawImage(z.value[h],-20,-20,40,40),e.restore()}),c.value=requestAnimationFrame(r)}c.value=requestAnimationFrame(r)}),tt(()=>{c.value&&cancelAnimationFrame(c.value)}),(t,e)=>(G(),U("canvas",{ref_key:"canvasRef",ref:p,width:"300",height:"300",class:et(D(H)("",t.$props.class)),role:"img","aria-label":"Interactive 3D Image Cloud",onMousedown:J,onMousemove:L,onMouseup:j,onMouseleave:j},null,34))}}),ot={class:"grid place-content-center p-6"},lt=JSON.parse('{"title":"简介","description":"","frontmatter":{},"headers":[],"relativePath":"guide/start.md","filePath":"guide/start.md"}'),ct={name:"guide/start.md"},dt=Object.assign(ct,{setup(E){const u=["typescript","tiptap","tailwindcss","vite","pnpm","nodedotjs","vuedotjs","eslint","shadcnui/green"].map(p=>`https://cdn.simpleicons.org/${p}`);return(p,c)=>(G(),U("div",null,[c[0]||(c[0]=at("",9)),x("div",ot,[nt(D(st),{images:D(u)},null,8,["images"])]),c[1]||(c[1]=x("p",null,[$("更多请查看 "),x("a",{href:"https://github.com/l1m2e/tiptap-print-designer/blob/main/packages/core/package.json",target:"_blank",rel:"noreferrer"},"package.json")],-1)),c[2]||(c[2]=x("hr",null,null,-1)),c[3]||(c[3]=x("h3",{id:"浏览器支持",tabindex:"-1"},[$("浏览器支持 "),x("a",{class:"header-anchor",href:"#浏览器支持","aria-label":'Permalink to "浏览器支持"'},"​")],-1)),c[4]||(c[4]=x("p",null,"开发和测试平台均在 Google 和最新版 Edge 上完成，其它浏览器请自行测试。如果存在兼容问题可在 gitee 或 github 提交 Issue。",-1))]))}});export{lt as __pageData,dt as default};
